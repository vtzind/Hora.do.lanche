<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hora do Lanche - Os Melhores Salgados da Cidade</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #FF5722;
            --secondary: #FF9800;
            --accent: #4CAF50;
            --dark: #333333;
            --light: #f8f8f8;
            --gray: #777777;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .logo {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .logo i {
            font-size: 36px;
        }
        
        .slogan {
            font-style: italic;
            opacity: 0.9;
            font-size: 18px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
        }
        
        .menu-section {
            margin-bottom: 40px;
        }
        
        .section-title {
            border-bottom: 3px solid var(--primary);
            padding-bottom: 10px;
            margin-bottom: 20px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
        }
        
        .section-title i {
            font-size: 26px;
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .menu-item {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .menu-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        
        .item-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
            background-color: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .item-name {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 8px;
            color: var(--dark);
        }
        
        .item-description {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 15px;
            flex-grow: 1;
        }
        
        .item-price {
            color: var(--primary);
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 15px;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: auto;
        }
        
        .quantity-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .quantity-btn:hover {
            background-color: var(--secondary);
        }
        
        .quantity-input {
            width: 50px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 8px;
            font-weight: bold;
        }
        
        .flavor-options {
            margin-top: 10px;
            margin-bottom: 15px;
        }
        
        .flavor-select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .acai-options {
            margin-top: 10px;
            margin-bottom: 15px;
        }

        .acai-option {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            padding: 6px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .acai-option:hover {
            background-color: rgba(76, 175, 80, 0.05);
        }

        .acai-option.selected {
            background-color: rgba(76, 175, 80, 0.1);
            border: 1px solid var(--accent);
        }

        .acai-option input[type="checkbox"] {
            margin: 0;
        }
        
        .recheio-info {
            font-size: 12px;
            color: var(--gray);
            margin-top: 5px;
            font-style: italic;
        }
        
        .cart-section {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            position: sticky;
            top: 20px;
            height: fit-content;
        }
        
        .cart-title {
            margin-bottom: 20px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 22px;
        }
        
        .cart-items {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .cart-item:last-child {
            border-bottom: none;
        }
        
        .cart-item-name {
            flex: 2;
            font-weight: 500;
        }
        
        .cart-item-quantity {
            flex: 1;
            text-align: center;
            font-weight: 500;
        }
        
        .cart-item-price {
            flex: 1;
            text-align: right;
            font-weight: 500;
        }
        
        .cart-total {
            font-weight: bold;
            font-size: 20px;
            text-align: right;
            margin: 20px 0;
            color: var(--primary);
        }
        
        .order-options {
            margin: 20px 0;
        }
        
        .option-group {
            margin-bottom: 20px;
        }
        
        .option-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .option-choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .option-choice {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option-choice:hover {
            border-color: var(--primary);
        }
        
        .option-choice.selected {
            border-color: var(--primary);
            background-color: rgba(255, 87, 34, 0.05);
        }
        
        .delivery-fee {
            font-size: 14px;
            color: var(--gray);
            margin-left: auto;
        }
        
        .address-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-top: 5px;
        }
        
        .notes-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            min-height: 80px;
            margin-top: 5px;
        }
        
        .checkout-btn {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 16px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            width: 100%;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 600;
            margin-top: 20px;
        }
        
        .checkout-btn:hover {
            background-color: #3d8b40;
        }
        
        .empty-cart {
            text-align: center;
            color: #888;
            padding: 20px;
            font-style: italic;
        }
        
        footer {
            background-color: var(--dark);
            color: white;
            text-align: center;
            padding: 30px 20px;
            margin-top: 50px;
        }
        
        .contact-info {
            margin-bottom: 15px;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .whatsapp-float {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background-color: #25D366;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 100;
            transition: transform 0.3s;
        }
        
        .whatsapp-float:hover {
            transform: scale(1.1);
        }
        
        @media (max-width: 992px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .cart-section {
                position: static;
            }
        }
        
        @media (max-width: 768px) {
            .menu-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .contact-info {
                flex-direction: column;
                gap: 10px;
            }
            
            .logo {
                font-size: 28px;
            }
            
            .slogan {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <i class="fas fa-stopwatch"></i>
            <span>Hora do Lanche</span>
        </div>
        <div class="slogan">Os melhores salgados e açaí da cidade!</div>
    </header>
    
    <div class="container">
        <div class="menu-column">
            <div class="menu-section">
                <h2 class="section-title">
                    <i class="fas fa-hamburger"></i>
                    Salgados Unitários
                </h2>
                <div class="menu-grid" id="salgados-unitarios-grid">
                    <!-- Itens de salgados unitários serão inseridos aqui via JavaScript -->
                </div>
            </div>
            
            <div class="menu-section">
                <h2 class="section-title">
                    <i class="fas fa-box"></i>
                    Salgados em Quantidade
                </h2>
                <div class="menu-grid" id="salgados-quantidade-grid">
                    <!-- Itens de salgados em quantidade serão inseridos aqui via JavaScript -->
                </div>
            </div>
            
            <div class="menu-section">
                <h2 class="section-title">
                    <i class="fas fa-wine-bottle"></i>
                    Bebidas
                </h2>
                <div class="menu-grid" id="bebidas-grid">
                    <!-- Itens de bebidas serão inseridos aqui via JavaScript -->
                </div>
            </div>
            
            <div class="menu-section">
                <h2 class="section-title">
                    <i class="fas fa-bowl-food"></i>
                    Açaí
                </h2>
                <div class="menu-grid" id="acai-grid">
                    <!-- Itens de açaí serão inseridos aqui via JavaScript -->
                </div>
            </div>
        </div>
        
        <div class="cart-section">
            <h2 class="cart-title">
                <i class="fas fa-shopping-cart"></i>
                Seu Pedido
            </h2>
            <div class="cart-items" id="cart-items">
                <!-- Itens do carrinho serão inseridos aqui -->
            </div>
            <div class="cart-total" id="cart-total">Total: R$ 0,00</div>
            
            <div class="order-options">
                <div class="option-group">
                    <div class="option-title">
                        <i class="fas fa-money-bill-wave"></i>
                        Forma de Pagamento
                    </div>
                    <div class="option-choices" id="payment-options">
                        <div class="option-choice" data-value="dinheiro">
                            <input type="radio" name="payment" id="payment-dinheiro" hidden>
                            <label for="payment-dinheiro">Dinheiro</label>
                        </div>
                        <div class="option-choice" data-value="cartao">
                            <input type="radio" name="payment" id="payment-cartao" hidden>
                            <label for="payment-cartao">Cartão de Crédito/Débito</label>
                        </div>
                        <div class="option-choice" data-value="pix">
                            <input type="radio" name="payment" id="payment-pix" hidden>
                            <label for="payment-pix">PIX</label>
                        </div>
                    </div>
                </div>
                
                <div class="option-group">
                    <div class="option-title">
                        <i class="fas fa-truck"></i>
                        Tipo de Entrega
                    </div>
                    <div class="option-choices" id="delivery-options">
                        <div class="option-choice" data-value="retirada">
                            <input type="radio" name="delivery" id="delivery-retirada" hidden>
                            <label for="delivery-retirada">Retirada no Local</label>
                        </div>
                        <div class="option-choice" data-value="entrega">
                            <input type="radio" name="delivery" id="delivery-entrega" hidden>
                            <label for="delivery-entrega">Entrega</label>
                        </div>
                    </div>
                </div>
                
                <div class="option-group" id="delivery-location-group" style="display: none;">
                    <div class="option-title">
                        <i class="fas fa-map-marker-alt"></i>
                        Local de Entrega
                    </div>
                    <div class="option-choices" id="location-options">
                        <!-- Opções de localização serão inseridas via JavaScript -->
                    </div>
                </div>
                
                <div class="option-group" id="address-group" style="display: none;">
                    <div class="option-title">
                        <i class="fas fa-home"></i>
                        Endereço Completo
                    </div>
                    <input type="text" class="address-input" id="address-street" placeholder="Rua, Número, Bairro">
                </div>
                
                <div class="option-group">
                    <div class="option-title">
                        <i class="fas fa-sticky-note"></i>
                        Observações
                    </div>
                    <textarea class="notes-input" id="order-notes" placeholder="Alguma observação sobre seu pedido?"></textarea>
                </div>
            </div>
            
            <button class="checkout-btn" id="checkout-btn">
                <i class="fab fa-whatsapp"></i>
                Finalizar Pedido via WhatsApp
            </button>
        </div>
    </div>
    
    <a href="https://wa.me/5521997807380" class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>
    
    <footer>
        <div class="contact-info">
            <div class="contact-item">
                <i class="fas fa-phone"></i>
                <span>(21) 99780-7380</span>
            </div>
            <div class="contact-item">
                <i class="fas fa-map-marker-alt"></i>
                <span>Atendemos: Parque Primavera, Chaperó, Estrela do Céu, Carvão, Sase, Pedreira, Jardim América, 26 de Dezembro, Mangueira e Ibirapitanga</span>
            </div>
            <div class="contact-item">
                <i class="fas fa-clock"></i>
                <span>Terça: 17h às 22h | Quarta a Sábado: 15h às 22h</span>
            </div>
        </div>
        <p>&copy; 2023 Hora do Lanche - Todos os direitos reservados</p>
    </footer>
    
    <script>
        // Dados do menu - com URLs de imagens reais
        const salgadosUnitarios = [
            {
                id: 1,
                name: "Coxinha",
                description: "Massa crocante recheada com frango desfiado temperado.",
                price: 1.50,
                image: "coxinha.jpg"
            },
            {
                id: 2,
                name: "Queijo com Presunto",
                description: "Massa crocante recheada com queijo e presunto.",
                price: 1.50,
                image: "bolinho.webp"
            },
            {
                id: 3,
                name: "Salsicha",
                description: "Massa crocante recheada com salsicha.",
                price: 1.50,
                image: "salsicha.jpg"
            },
            {
                id: 4,
                name: "Pastel",
                description: "Massa fina e crocante com recheio à sua escolha.",
                price: 1.50,
                image: "pastel.webp",
                flavors: ["Frango com Catupiry", "Frango com Cheddar", "Queijo com Presunto", "Misto"]
            }
        ];

        const salgadosQuantidade = [
            {
                id: 5,
                name: "Salgadinhos (25 unidades)",
                description: "25 unidades de salgadinhos variados.",
                price: 12.00,
                image: "salgadinhos.jpg"
            },
            {
                id: 6,
                name: "Salgadinhos (50 unidades)",
                description: "50 unidades de salgadinhos variados.",
                price: 20.00,
                image: "salgadinhos.jpg"
            },
            {
                id: 7,
                name: "Salgadinhos (100 unidades)",
                description: "100 unidades de salgadinhos variados.",
                price: 35.00,
                image: "salgadinhos.jpg"
            },
            {
                id: 8,
                name: "Mini Kibe (25 unidades)",
                description: "25 unidades de mini kibe.",
                price: 12.00,
                image: "kibe.jpg"
            },
            {
                id: 9,
                name: "Mini Kibe (50 unidades)",
                description: "50 unidades de mini kibe.",
                price: 20.00,
                image: "kibe.jpg"
            },
            {
                id: 10,
                name: "Mini Kibe (100 unidades)",
                description: "100 unidades de mini kibe.",
                price: 35.00,
                image: "kibe.jpg"
            },
            {
                id: 11,
                name: "Aipim (25 unidades)",
                description: "25 unidades de aipim frito.",
                price: 13.00,
                image: "aimpim.jpg"
            },
            {
                id: 12,
                name: "Aipim (50 unidades)",
                description: "50 unidades de aipim frito.",
                price: 22.00,
                image: "aimpim.jpg"
            },
            {
                id: 13,
                name: "Aipim (100 unidades)",
                description: "100 unidades de aipim frito.",
                price: 38.00,
                image: "aimpim.jpg"
            }
        ];

        const bebidas = [
            {
                id: 14,
                name: "Coca Cola 2L",
                description: "Refrigerante Coca Cola 2 litros.",
                price: 13.00,
                image: "coca.jpg"
            },
            {
                id: 15,
                name: "Pepsi 2L",
                description: "Refrigerante Pepsi 2 litros.",
                price: 10.00,
                image: "pepsi.avif"
            },
            {
                id: 16,
                name: "Sukita Uva ou Laranja",
                description: "Refrigerante Sukita sabor Uva ou Laranja.",
                price: 8.00,
                image: "sukita.jpg"
            },
            {
                id: 17,
                name: "Kuat",
                description: "Refrigerante Kuat.",
                price: 7.00,
                image: "kuat.webp"
            },
            {
                id: 18,
                name: "Guaraná Natural",
                description: "Guaraná Natural Ativ Puls.",
                price: 2.00,
                image: "guarana.webp"
            }
        ];

        const acai = [
            {
                id: 19,
                name: "Açaí 150ML",
                description: "Açaí 150ML com recheios à escolha.",
                price: 3.50,
                image: "açai.png"
            },
            {
                id: 20,
                name: "Açaí 200ML",
                description: "Açaí 200ML com recheios à escolha.",
                price: 6.00,
                image: "açai.png"
            },
            {
                id: 21,
                name: "Açaí 300ML",
                description: "Açaí 300ML com recheios à escolha.",
                price: 8.00,
                image: "açai.png"
            },
            {
                id: 22,
                name: "Açaí 500ML",
                description: "Açaí 500ML com recheios à escolha.",
                price: 15.00,
                image: "açai.png"
            }
        ];

        // Recheios para açaí - 8 OPÇÕES (pode escolher até 4)
        const recheiosAcai = ["Leite em pó", "Paçoca", "Granola", "Chocobol", "Amendoim", "Sucrilhos", "Granulado", "Morango"];

        // Locais de entrega - COM OS 3 NOVOS LOCAIS ADICIONADOS
        const deliveryLocations = [
            { name: "Parque Primavera" },
            { name: "Chaperó" },
            { name: "Estrela do Céu" },
            { name: "Carvão" },
            { name: "Sase" },
            { name: "Pedreira" },
            { name: "Jardim América" },
            { name: "26 de Dezembro" },
            { name: "Mangueira" },
            { name: "Ibirapitanga" }
        ];
        
        // Carrinho de compras
        let cart = [];
        let selectedPayment = "";
        let selectedDelivery = "";
        let selectedLocation = null;
        
        // Elementos do DOM
        const salgadosUnitariosGrid = document.getElementById('salgados-unitarios-grid');
        const salgadosQuantidadeGrid = document.getElementById('salgados-quantidade-grid');
        const bebidasGrid = document.getElementById('bebidas-grid');
        const acaiGrid = document.getElementById('acai-grid');
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const checkoutBtn = document.getElementById('checkout-btn');
        const paymentOptions = document.getElementById('payment-options');
        const deliveryOptions = document.getElementById('delivery-options');
        const deliveryLocationGroup = document.getElementById('delivery-location-group');
        const addressGroup = document.getElementById('address-group');
        const locationOptions = document.getElementById('location-options');
        const addressStreet = document.getElementById('address-street');
        const orderNotes = document.getElementById('order-notes');
        
        // Renderizar o menu de salgados unitários
        function renderSalgadosUnitarios() {
            salgadosUnitariosGrid.innerHTML = '';
            
            salgadosUnitarios.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'menu-item';
                
                let flavorSection = '';
                if (item.flavors) {
                    flavorSection = `
                        <div class="flavor-options">
                            <select class="flavor-select" id="flavor-${item.id}">
                                <option value="">Selecione o sabor</option>
                                ${item.flavors.map(flavor => `<option value="${flavor}">${flavor}</option>`).join('')}
                            </select>
                        </div>
                    `;
                }
                
                menuItem.innerHTML = `
                    <div class="item-image">
                        <img src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/300x180/FF5722/FFFFFF?text=${encodeURIComponent(item.name)}'">
                    </div>
                    <div class="item-name">${item.name}</div>
                    <div class="item-description">${item.description}</div>
                    <div class="item-price">R$ ${item.price.toFixed(2)}</div>
                    ${flavorSection}
                    <div class="quantity-control">
                        <button class="quantity-btn" onclick="decreaseQuantity(${item.id})">-</button>
                        <input type="text" class="quantity-input" id="quantity-${item.id}" value="0" readonly>
                        <button class="quantity-btn" onclick="increaseQuantity(${item.id})">+</button>
                    </div>
                `;
                salgadosUnitariosGrid.appendChild(menuItem);
            });
        }
        
        // Renderizar o menu de salgados em quantidade
        function renderSalgadosQuantidade() {
            salgadosQuantidadeGrid.innerHTML = '';
            
            salgadosQuantidade.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'menu-item';
                menuItem.innerHTML = `
                    <div class="item-image">
                        <img src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/300x180/FF9800/FFFFFF?text=${encodeURIComponent(item.name)}'">
                    </div>
                    <div class="item-name">${item.name}</div>
                    <div class="item-description">${item.description}</div>
                    <div class="item-price">R$ ${item.price.toFixed(2)}</div>
                    <div class="quantity-control">
                        <button class="quantity-btn" onclick="decreaseQuantity(${item.id})">-</button>
                        <input type="text" class="quantity-input" id="quantity-${item.id}" value="0" readonly>
                        <button class="quantity-btn" onclick="increaseQuantity(${item.id})">+</button>
                    </div>
                `;
                salgadosQuantidadeGrid.appendChild(menuItem);
            });
        }
        
        // Renderizar o menu de bebidas
        function renderBebidas() {
            bebidasGrid.innerHTML = '';
            
            bebidas.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'menu-item';
                menuItem.innerHTML = `
                    <div class="item-image">
                        <img src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/300x180/4CAF50/FFFFFF?text=${encodeURIComponent(item.name)}'">
                    </div>
                    <div class="item-name">${item.name}</div>
                    <div class="item-description">${item.description}</div>
                    <div class="item-price">R$ ${item.price.toFixed(2)}</div>
                    <div class="quantity-control">
                        <button class="quantity-btn" onclick="decreaseQuantity(${item.id})">-</button>
                        <input type="text" class="quantity-input" id="quantity-${item.id}" value="0" readonly>
                        <button class="quantity-btn" onclick="increaseQuantity(${item.id})">+</button>
                    </div>
                `;
                bebidasGrid.appendChild(menuItem);
            });
        }
        
        // Renderizar o menu de açaí
        function renderAcai() {
            acaiGrid.innerHTML = '';
            
            acai.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'menu-item';
                
                // Criar as opções de recheio como checkboxes
                let flavorOptionsHTML = `
                    <div class="acai-options">
                        <div class="option-title" style="font-size: 14px; margin-bottom: 8px;">
                            <i class="fas fa-plus"></i>
                            Escolha até 4 recheios:
                        </div>
                `;
                
                recheiosAcai.forEach((recheio, index) => {
                    flavorOptionsHTML += `
                        <div class="acai-option" data-recheio="${recheio}">
                            <input type="checkbox" name="acai-flavor-${item.id}" id="acai-${item.id}-${index}" value="${recheio}">
                            <label for="acai-${item.id}-${index}">${recheio}</label>
                        </div>
                    `;
                });
                
                flavorOptionsHTML += `
                    <div class="recheio-info">Máximo 4 recheios por açaí</div>
                    </div>
                `;
                
                menuItem.innerHTML = `
                    <div class="item-image">
                        <img src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/300x180/9C27B0/FFFFFF?text=${encodeURIComponent('Açaí ' + item.name)}'">
                    </div>
                    <div class="item-name">${item.name}</div>
                    <div class="item-description">${item.description}</div>
                    <div class="item-price">R$ ${item.price.toFixed(2)}</div>
                    ${flavorOptionsHTML}
                    <div class="quantity-control">
                        <button class="quantity-btn" onclick="decreaseQuantity(${item.id})">-</button>
                        <input type="text" class="quantity-input" id="quantity-${item.id}" value="0" readonly>
                        <button class="quantity-btn" onclick="increaseQuantity(${item.id})">+</button>
                    </div>
                `;
                
                acaiGrid.appendChild(menuItem);
                
                // Adicionar event listeners para as opções de recheio
                setTimeout(() => {
                    const acaiOptions = menuItem.querySelectorAll('.acai-option');
                    acaiOptions.forEach(option => {
                        option.addEventListener('click', function() {
                            const checkbox = this.querySelector('input[type="checkbox"]');
                            
                            // Contar quantos recheios já estão selecionados
                            const selectedCount = menuItem.querySelectorAll('input[type="checkbox"]:checked').length;
                            
                            // Se já tem 4 selecionados e o usuário está tentando adicionar mais, não permitir
                            if (selectedCount >= 4 && !checkbox.checked) {
                                alert('Você só pode selecionar até 4 recheios por açaí!');
                                return;
                            }
                            
                            // Alternar estado do checkbox
                            checkbox.checked = !checkbox.checked;
                            
                            // Atualizar visual da opção
                            if (checkbox.checked) {
                                this.classList.add('selected');
                            } else {
                                this.classList.remove('selected');
                            }
                        });
                    });
                }, 0);
            });
        }
        
        // Renderizar opções de localização
        function renderDeliveryLocations() {
            locationOptions.innerHTML = '';
            
            deliveryLocations.forEach(location => {
                const locationOption = document.createElement('div');
                locationOption.className = 'option-choice';
                locationOption.dataset.value = location.name;
                locationOption.innerHTML = `
                    <input type="radio" name="location" id="location-${location.name}" hidden>
                    <label for="location-${location.name}">${location.name}</label>
                    <div class="delivery-fee">Valor da entrega a combinar</div>
                `;
                
                locationOption.addEventListener('click', function() {
                    document.querySelectorAll('#location-options .option-choice').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    selectedLocation = location;
                });
                
                locationOptions.appendChild(locationOption);
            });
        }
        
        // Aumentar quantidade de um item
        function increaseQuantity(itemId) {
            const quantityInput = document.getElementById(`quantity-${itemId}`);
            let quantity = parseInt(quantityInput.value);
            quantityInput.value = quantity + 1;
            
            // Adicionar ao carrinho
            const allItems = [...salgadosUnitarios, ...salgadosQuantidade, ...bebidas, ...acai];
            const item = allItems.find(i => i.id === itemId);
            const existingItem = cart.find(i => i.id === itemId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: item.id,
                    name: item.name,
                    price: item.price,
                    quantity: 1
                });
            }
            
            updateCart();
        }
        
        // Diminuir quantidade de um item
        function decreaseQuantity(itemId) {
            const quantityInput = document.getElementById(`quantity-${itemId}`);
            let quantity = parseInt(quantityInput.value);
            
            if (quantity > 0) {
                quantityInput.value = quantity - 1;
                
                // Remover do carrinho ou diminuir quantidade
                const existingItemIndex = cart.findIndex(i => i.id === itemId);
                
                if (existingItemIndex !== -1) {
                    if (cart[existingItemIndex].quantity > 1) {
                        cart[existingItemIndex].quantity -= 1;
                    } else {
                        cart.splice(existingItemIndex, 1);
                    }
                }
                
                updateCart();
            }
        }
        
        // Atualizar carrinho
        function updateCart() {
            cartItems.innerHTML = '';
            let subtotal = 0;
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart">Seu carrinho está vazio</div>';
            } else {
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    subtotal += itemTotal;
                    
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-quantity">${item.quantity}x</div>
                        <div class="cart-item-price">R$ ${itemTotal.toFixed(2)}</div>
                    `;
                    cartItems.appendChild(cartItem);
                });
            }
            
            cartTotal.textContent = `Total: R$ ${subtotal.toFixed(2)}`;
        }
        
        // Finalizar pedido via WhatsApp
        function checkout() {
            if (cart.length === 0) {
                alert('Seu carrinho está vazio! Adicione alguns itens antes de finalizar o pedido.');
                return;
            }
            
            if (!selectedPayment) {
                alert('Por favor, selecione uma forma de pagamento.');
                return;
            }
            
            if (!selectedDelivery) {
                alert('Por favor, selecione se deseja retirada ou entrega.');
                return;
            }
            
            if (selectedDelivery === 'entrega' && !selectedLocation) {
                alert('Por favor, selecione o local de entrega.');
                return;
            }
            
            if (selectedDelivery === 'entrega' && !addressStreet.value.trim()) {
                alert('Por favor, informe o endereço completo para entrega.');
                return;
            }
            
            // Número do WhatsApp da lanchonete
            const phoneNumber = "5521997807380";
            
            // Montar mensagem do pedido
            let message = "⏰ *PEDIDO - HORA DO LANCHE* ⏰\n\n";
            message += "*Itens do pedido:*\n";
            
            cart.forEach(item => {
                let itemDetails = `• ${item.quantity}x ${item.name} - R$ ${(item.price * item.quantity).toFixed(2)}`;
                
                // Adicionar sabor selecionado para pastéis
                if (item.id === 4) {
                    const flavorSelect = document.getElementById(`flavor-${item.id}`);
                    if (flavorSelect && flavorSelect.value) {
                        itemDetails += ` (${flavorSelect.value})`;
                    }
                }
                
                // Adicionar recheios para açaí
                if (item.id >= 19 && item.id <= 22) {
                    const selectedRecheios = document.querySelectorAll(`input[name="acai-flavor-${item.id}"]:checked`);
                    if (selectedRecheios.length > 0) {
                        const recheiosArray = Array.from(selectedRecheios).map(recheio => recheio.value);
                        itemDetails += ` (${recheiosArray.join(', ')})`;
                    }
                }
                
                message += itemDetails + '\n';
            });
            
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            
            message += `\n*Total:* R$ ${subtotal.toFixed(2)}\n\n`;
            
            message += `*Forma de pagamento:* ${getPaymentText(selectedPayment)}\n`;
            message += `*Tipo de entrega:* ${getDeliveryText(selectedDelivery)}\n`;
            
            if (selectedDelivery === 'entrega' && selectedLocation) {
                message += `*Local de entrega:* ${selectedLocation.name}\n`;
                message += `*Endereço completo:* ${addressStreet.value}\n`;
                message += `*Valor da entrega:* A combinar\n`;
            }
            
            if (orderNotes.value.trim() !== '') {
                message += `*Observações:* ${orderNotes.value}\n`;
            }
            
            message += "\nPor favor, confirmem o pedido!";
            
            // Codificar a mensagem para URL
            const encodedMessage = encodeURIComponent(message);
            
            // Criar URL do WhatsApp
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
            
            // Abrir WhatsApp em nova aba
            window.open(whatsappURL, '_blank');
        }
        
        // Obter texto da forma de pagamento
        function getPaymentText(payment) {
            switch(payment) {
                case 'dinheiro': return 'Dinheiro';
                case 'cartao': return 'Cartão de Crédito/Débito';
                case 'pix': return 'PIX';
                default: return '';
            }
        }
        
        // Obter texto do tipo de entrega
        function getDeliveryText(delivery) {
            switch(delivery) {
                case 'retirada': return 'Retirada no Local';
                case 'entrega': return 'Entrega';
                default: return '';
            }
        }
        
        // Configurar eventos
        function setupEventListeners() {
            // Forma de pagamento
            document.querySelectorAll('#payment-options .option-choice').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('#payment-options .option-choice').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    selectedPayment = this.dataset.value;
                });
            });
            
            // Tipo de entrega
            document.querySelectorAll('#delivery-options .option-choice').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('#delivery-options .option-choice').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    selectedDelivery = this.dataset.value;
                    
                    if (selectedDelivery === 'entrega') {
                        deliveryLocationGroup.style.display = 'block';
                        addressGroup.style.display = 'block';
                    } else {
                        deliveryLocationGroup.style.display = 'none';
                        addressGroup.style.display = 'none';
                        selectedLocation = null;
                    }
                });
            });
            
            // Botão de finalizar pedido
            checkoutBtn.addEventListener('click', checkout);
        }
        
        // Inicializar
        function init() {
            renderSalgadosUnitarios();
            renderSalgadosQuantidade();
            renderBebidas();
            renderAcai();
            renderDeliveryLocations();
            updateCart();
            setupEventListeners();
        }
        
        // Inicializar quando o DOM estiver carregado
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>